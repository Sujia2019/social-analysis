(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f681156"],{"02aa":function(s,e,t){"use strict";t.r(e);var n=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[s._v("问卷调查")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[s._v("操作按钮")])],1),s.isFinished?t("div",[s._v(" 您已完成问卷调查，暂无新问卷！ ")]):t("div",[s._l(s.questions,(function(e,n){return t("div",{key:n,staticClass:"text item"},[t("div",[s._v(s._s(e.title))]),t("el-radio-group",{staticClass:"answers-group",model:{value:s.answer[n],callback:function(e){s.$set(s.answer,n,e)},expression:"answer[index]"}},s._l(e.answers,(function(e,n){return t("div",{key:n},[t("el-radio",{staticClass:"answer-list-div",attrs:{label:e.answerID}},[s._v(s._s(e.context))])],1)})),0)],1)})),t("div",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:s.submitAnswers}},[s._v("提交")])],1)],2)])},i=[],o=(t("4de4"),t("4160"),t("159b"),t("47d7")),a=t("ca00"),r={data:function(){return{questions:[],answer:[],isFinished:!1,loginInfo:""}},computed:{},watch:{answer:function(s,e){}},mounted:function(){this.loginInfo=Object(a["b"])(),this.queryIsFinished(),this.showQuestion()},methods:{showQuestion:function(){var s=this;o["a"].showQuestion({curr:1,pageSize:10}).then((function(e){console.log(e),s.questions=e.obj}))},queryIsFinished:function(){var s=this;o["a"].isFinished({account:this.loginInfo.user_account}).then((function(e){console.log(e),s.isFinished=e.obj}))},submitAnswers:function(){var s=this,e=[],t=!0;this.questions.forEach((function(n,i){var o,a={};s.answer[i]||(t=!1),a.questionID=n.questionID,a.answerID=s.answer[i],a.score=null===(o=n.answers.filter((function(s){return s.answerID===a.answerID}))[0])||void 0===o?void 0:o.score,e.push(a)})),t?o["a"].sendAnswers(e).then((function(e){console.log(e),666===e.code?s.$message.success(e.message):s.$message.error(e.message)})):this.$message.error("请完成全部题目后提交")}}},u=r,c=(t("2911"),t("2877")),l=Object(c["a"])(u,n,i,!1,null,null,null);e["default"]=l.exports},2911:function(s,e,t){"use strict";t("7662")},"47d7":function(s,e,t){"use strict";var n=t("b775"),i=[{name:"queryBoardMsg",url:"/board/showBoardMsg",type:"get"},{name:"addBoardMsg",url:"/board/addBoardMsg",type:"post"},{name:"showInfo",url:"/stu/showInfo",type:"get"},{name:"updateInfo",url:"/stu/update",type:"post"},{name:"showQuestion",url:"/question/show",type:"get"},{name:"sendAnswers",url:"/question/sendAnswers",type:"post"},{name:"isFinished",url:"/question/isFinished",type:"get"},{name:"getResult",url:"/question/getResult",type:"get"}],o=n["a"].createApiObj(i);e["a"]=o},7662:function(s,e,t){}}]);